# Examples for running Signatom Server

## Start server

```shell
// Check options
docker run --rm hub.oepkgs.net/oepkgs/signatom/signatom:0.0.5 server -h

// Run server with `debug` level (default is `info`)
docker run --rm \
  --add-host=fulcio.fulcio-system.svc:10.240.112.241 \
  --add-host=rekor.rekor-system.svc:10.240.112.241 \
  --add-host=gettoken.default.svc:10.240.112.241 \
  --add-host=tuf.tuf-system.svc:10.240.112.241 \
  --add-host=ctlog.ctlog-system.svc:10.240.112.241 \
  -p 9090:9090 -p 18081:8081 hub.oepkgs.net/oepkgs/signatom/signatom:0.0.5 --log-level debug server
```

## Access services

### Swagger

* Get the swagger.json
* URL: `/swagger.json`
* Method: GET

### Keypair

* Generate a pair of key
* URL: `/v1/keypair`
* Method: POST
* Content-Type: `appliaction/json`
* Body

```json
{
  "algo": "string",
  "kms": "string",
  "flow": "string"
}
```

* Response

```json
{
  "base_config": {
    "algo": "string",
    "kms": "string",
    "flow": "string"
  },
  "priv": "string",
  "pub": "string",
  "keyId": "string"
}
```

### Sign Digest

* Sign a given digest string
* URL: `/v1/sign/digest`
* Method: POST
* Content-Type: `appliaction/json`
* Body

```json
{
  "base_config": {
    "algo": "string",
    "kms": "string",
    "flow": "string"
  },
  "priv": "string",
  "keyId": "string",
  "digest": "string",
  "idToken": "string",
  "signMgr": "string",
  "signMgrUrl": "string",
  "certMgr": "string",
  "certMgrUrl": "string",
  "embadSign": true
}
```

* Response

```json
{
  "base_config": {
    "algo": "string",
    "kms": "string",
    "flow": "string"
  },
  "signature": "string",
  "cert": "string"
}
```

### Verify Digest

* Verify the signature of a given digest string
* URL: `/v1/verify/digest`
* Method: POST
* Content-Type: `appliaction/json`
* Body

```json
{
  "base_config": {
    "algo": "string",
    "kms": "string",
    "flow": "string"
  },
  "pub": "string",
  "keyId": "string",
  "digest": "string",
  "signature": "string",
  "cert": "string",
  "certIssuer": "string",
  "certSan": "string",
  "signMgr": "string",
  "signMgrUrl": "string",
  "certMgr": "string",
  "certMgrUrl": "string",
  "embadSign": true
}
```

* Response

```json
{
  "base_config": {
    "algo": "string",
    "kms": "string",
    "flow": "string"
  },
  "result": "string"
}
```

## Examples

### Sign/Verify with key

1. Generate keypair

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/keypair' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "algo": "sm2",
  "kms": "",
  "flow": "classic"
}' | jq

# Response
{
  "base_config": {
    "algo": "sm2",
    "kms": "",
    "flow": "classic"
  },
  "priv": "-----BEGIN PRIVATE KEY-----\nLS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUtCZStPQ09M\ncHdnQUFZWFRzaDdtd0swUzhadExTMWZYNWhFT216LzVSdFhvQW9HQ0NxQkhNOVYK\nQVlJdG9VUURRZ0FFbEVnYXFtSVBmUlZuaGRVbzRGTERsTWJndzlzYjlHdEg4T291\nV1U2aGxXMUlyOE91VEo5TwoyaTJDU21na250NnM3eWpBNzJ1QkJPelpLZ1FQQkR5\nNW9BPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=\n-----END PRIVATE KEY-----\n",
  "pub": "-----BEGIN PUBLIC KEY-----\nLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUZrd0V3WUhLb1pJemowQ0FRWUlL\nb0VjejFVQmdpMERRZ0FFbEVnYXFtSVBmUlZuaGRVbzRGTERsTWJndzlzYgo5R3RI\nOE9vdVdVNmhsVzFJcjhPdVRKOU8yaTJDU21na250NnM3eWpBNzJ1QkJPelpLZ1FQ\nQkR5NW9BPT0KLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg==\n-----END PUBLIC KEY-----\n",
  "keyId": ""
}
```

2. Sign digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/sign/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "sm2",
    "flow": "classic"
  },
  "priv": "-----BEGIN PRIVATE KEY-----\nLS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUtCZStPQ09M\ncHdnQUFZWFRzaDdtd0swUzhadExTMWZYNWhFT216LzVSdFhvQW9HQ0NxQkhNOVYK\nQVlJdG9VUURRZ0FFbEVnYXFtSVBmUlZuaGRVbzRGTERsTWJndzlzYjlHdEg4T291\nV1U2aGxXMUlyOE91VEo5TwoyaTJDU21na250NnM3eWpBNzJ1QkJPelpLZ1FQQkR5\nNW9BPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=\n-----END PRIVATE KEY-----\n",
  "digest": "A string of digest"
}' | jq

# Response
{
  "base_config": {
    "algo": "sm2",
    "kms": "",
    "flow": "classic"
  },
  "signature": "MEYCIQCDjbsGf3MFmMg8wQ5H7TXQcFwiMR0atjKiMusch7fhbAIhAPiXbhF8n0pTech/MBIfBDIzZJSD0/j5HBliXAQ0LhWz",
  "cert": ""
}
```

3. Verify digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/verify/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "sm2",
    "flow": "classic"
  },
  "pub": "-----BEGIN PUBLIC KEY-----\nLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUZrd0V3WUhLb1pJemowQ0FRWUlL\nb0VjejFVQmdpMERRZ0FFbEVnYXFtSVBmUlZuaGRVbzRGTERsTWJndzlzYgo5R3RI\nOE9vdVdVNmhsVzFJcjhPdVRKOU8yaTJDU21na250NnM3eWpBNzJ1QkJPelpLZ1FQ\nQkR5NW9BPT0KLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg==\n-----END PUBLIC KEY-----\n",
  "digest": "A string of digest",
  "signature": "MEYCIQCDjbsGf3MFmMg8wQ5H7TXQcFwiMR0atjKiMusch7fhbAIhAPiXbhF8n0pTech/MBIfBDIzZJSD0/j5HBliXAQ0LhWz"
}' | jq

# Response
{
  "base_config": {
    "algo": "sm2",
    "kms": "",
    "flow": "classic"
  },
  "result": "OK"
}
```

### Sign/Verify without key by fulcio

0. Get ID Token for fulcio/njca

```shell
curl -s http://gettoken.default.svc:18080
```

1. Sign digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/sign/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "ecdsa",
    "flow": "classic"
  },
  "digest": "Sign this digest",
  "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6IlNIN1RtRnRQUVRJQzJqTHhpYTJ2UGV3VjVvaUxrcEhpYUVwbDFLTXA5SnMifQ.eyJhdWQiOlsic2lnc3RvcmUiXSwiZXhwIjoxNzI0NzUxNDMwLCJpYXQiOjE3MjQ3NTA4MzAsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJnZXR0b2tlbi0wMDAwMS1kZXBsb3ltZW50LTdmOTlkN2JjODgtcHo5OXIiLCJ1aWQiOiI5MTE4NTMwMy0zZjhlLTRhMGYtOTQzMC0yYWQ3MjQ0YmFmOWQifSwic2VydmljZWFjY291bnQiOnsibmFtZSI6ImRlZmF1bHQiLCJ1aWQiOiI2Y2NhZTZmMi00MmQ4LTRiMDUtOTVhZS1jMDdhNzk5ZDQyNjkifX0sIm5iZiI6MTcyNDc1MDgzMCwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmRlZmF1bHQ6ZGVmYXVsdCJ9.ETEXJdw9HPrs_Tq46R5h09f7HzxiY7DlzcRDpGdiDCrhFgdxiC55ix55DwhiV6N4P6GpFtC7Ujc0c9MlmOoS1oikO0dRLiaBlCztbVTQRdgvHvga1K89qG85dmfh_6RWjIv77hL03XmYQ70MSXXdemIqewrpLpkzqjfZYi7DKCMjL_p6kBit62BfkcpCj7KFfEvHs1-nkQxFmZIW24LrUcxBXG0fasWTJ4vmTVkE8XNf9a2TdnP5DfhWx2p7OFmxNEfkAR8qEnrGvXyEyIdrRiK4mksfOt3utGPNH454z_Mh3SDYTjaJr9IZbp81UeuAEPLwfNRgeWTRlj5DO2r27w",
  "sign_mgr": "rekor",
  "sign_mgr_url": "http://rekor.rekor-system.svc:18080",
  "cert_mgr": "fulcio",
  "cert_mgr_url": "http://fulcio.fulcio-system.svc:18080"
}'

# Response
{
  "base_config": {
    "algo": "ecdsa",
    "kms": "",
    "flow": "classic"
  },
  "signature": "MIGIAkIBTxDGM4YeSEtRLG7gfFMG8co6HQjSQNbW6vNyiyDYQeNNmmZLjAnokM90DZ2cw8AyXTW5TCQqoOfaJaG/7whJ62ICQgFPbEgC9jzVCNsikUHwsvCRG1dI7UmZUtSWCtuvCOCmHkbNmJ19VNFtEFUE2yt68pXkysztOHOX7N9aJUGlm73bBg==",
  "cert": "{\n  \"CertPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZSakNDQXk2Z0F3SUJBZ0lVVTNXMjhaV0Y5blNZS3BZRCsyczB3dkZlZUxvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2ZqRU1NQW9HQTFVRUJoTURWVk5CTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1SWXdGQVlEVlFRSkV3MDFORGdnVFdGeWEyVjBJRk4wTVE0d0RBWURWUVFSCkV3VTFOekkzTkRFWk1CY0dBMVVFQ2hNUVRHbHVkWGdnUm05MWJtUmhkR2x2YmpBZUZ3MHlOREE0TWpnd09UUTAKTWpWYUZ3MHlOREE0TWpnd09UVTBNalZhTUFBd2dac3dFQVlIS29aSXpqMENBUVlGSzRFRUFDTURnWVlBQkFDeQo1TDlKekNKVUtlM005RUNBL2dVN21tT2xkOEZRaVpCUWdESEszcUt1LzNmanU1MlgyV0d0Z2JsbG9NS3orbXFkCjlEbzQ5a1pHbHZaUUVWcDl2Q0EzeUFFRFRQb3VJVnRTMm1NYmk1S2FLZjcrb0V3cmRrc1g4anF6bmtBQ2x1bG8KTWZNWlRXa0w2U2YxTWZkYmhVeXFLUmN1MERXeCtLSXhjaFFBNnVSWHVTRUErcU9DQWNBd2dnRzhNQTRHQTFVZApEd0VCL3dRRUF3SUhnREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQXpBZEJnTlZIUTRFRmdRVXNzNCtFT1ZjCnh3bG1VcFNVZHY5elBTVTBUak13SHdZRFZSMGpCQmd3Rm9BVStUSGdsS21TZHJyMzZRQjBNdUxGZlFSdjZuQXcKVGdZRFZSMFJBUUgvQkVRd1FvWkFhSFIwY0hNNkx5OXJkV0psY201bGRHVnpMbWx2TDI1aGJXVnpjR0ZqWlhNdgpaR1ZtWVhWc2RDOXpaWEoyYVdObFlXTmpiM1Z1ZEhNdlpHVm1ZWFZzZERBNkJnb3JCZ0VFQVlPL01BRUJCQ3hvCmRIUndjem92TDJ0MVltVnlibVYwWlhNdVpHVm1ZWFZzZEM1emRtTXVZMngxYzNSbGNpNXNiMk5oYkRBOEJnb3IKQmdFRUFZTy9NQUVJQkM0TUxHaDBkSEJ6T2k4dmEzVmlaWEp1WlhSbGN5NWtaV1poZFd4MExuTjJZeTVqYkhWegpkR1Z5TG14dlkyRnNNSUdLQmdvckJnRUVBZFo1QWdRQ0JId0VlZ0I0QUhZQURCc3pMYXppa3NwOXpGM2J3Q245Ck5FUG5yZG5PS2l0QWNXYW1aWU9hNkprQUFBR1JtRjlCc0FBQUJBTUFSekJGQWlCK01hMlBtdkZZWkc3VngxZFkKM2pNRHlJSjVMVUpUQXlQdDBvQXFIZC9lbUFJaEFQZExJdHJkYXNnNnFIQkkrUWEwcUpWQ21za1RqWHhJTnhBNQpLZTJIRWNYdE1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQnh0bDRXV1FWenJMMEptQW1JUWJEbml4WWFycXh2CjQ4NUt4YmhtRXp4UU5LMlhnNFVUOUhSQjBPK01FVS9QakI1RkJ0MW1JZUxKQnUyV0k4YlZzK0cwNzNLcG5JRFkKbEtnY2RvV0VUYzNCVUtmTHVvUjMzSnJEbTl3UjZPdEhodnVKbmd2MFZVZ2lMZm9ReHlSS3h2ZXFoVTNOTGlBNQpQMlUraVBaMG55TmNNZDNJMWpHQWdRN3d5dllITzUyZDVPNE5sK216UzBxdmhTSUtIbE4zQ0R3S0ljdlJYSG5HCmlzc3YzcEZKVHlPVlR3WlF1dzdncGdTalpxTTBBS2ZlNzV5em5SeU9qNjZUYUVwajdSMFdNS1R5K3Npa3RjL1kKemhwdTQyVU13Zkh1UklrTW8zaVF0dllVTHRGUktTeFNnWEZjUjF5RTc5M0c0VnFxRURReHQxa2ViVUZUZ0ZHMAp2WHRxa1kwYnk1WEdPK0VqL0diRGFMU1Z3M3ovLzJsYzhtOGRJZVZmc2VyQnRac2pWN2p4TGY1R3I2VUY5Q0hCCk5NRWIyaGhOcHlQUWI1c2xSc2lGcGVNd0RCUHhoOTB1alVqdy9MSHdMWXRiRCt2RzUrRldBZXNJdmVpZXRWd2EKTnNtZm9xaDFJTjZRQVdxSlJ5QzlaWitZUXZSZDdtZExJU1VCZzhGRUxrMDgxUG9Wdk4vY21hTThCRnh1czErZwovT09DWG9WZFB1MVlUdG5EWXM0K0xYVCtpRVFWVjNRWURhVnkxMEd1dzdTUWkwdDVOaWhoOTFWNGdGRGprNmVGCnJTdEFKOUVMclp0ZWtIRzFIenpZNXFEenQ0Y2hLYjZnY1NnYUtraWVod3AvYXVTdytldlgyQ0plbFhsaVByOWwKTk9IY0paVkd5UWQ0a2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\",\n  \"ChainPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZ3ekNDQTZ1Z0F3SUJBZ0lJSkwrdkxFbjhydEV3RFFZSktvWklodmNOQVFFTEJRQXdmakVNTUFvR0ExVUUKQmhNRFZWTkJNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcApjMk52TVJZd0ZBWURWUVFKRXcwMU5EZ2dUV0Z5YTJWMElGTjBNUTR3REFZRFZRUVJFd1UxTnpJM05ERVpNQmNHCkExVUVDaE1RVEdsdWRYZ2dSbTkxYm1SaGRHbHZiakFlRncweU5EQTNNalV3TXpFNE1qSmFGdzB5TlRBM01qVXcKTXpFNE1qSmFNSDR4RERBS0JnTlZCQVlUQTFWVFFURVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRRwpBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVXTUJRR0ExVUVDUk1OTlRRNElFMWhjbXRsZENCVGRERU9NQXdHCkExVUVFUk1GTlRjeU56UXhHVEFYQmdOVkJBb1RFRXhwYm5WNElFWnZkVzVrWVhScGIyNHdnZ0lpTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQ3ZnWnkwMHcvbloyTi9nNjM2aG9YeDA5RUhsN01hT0Rlagp6UyttVXdjekNFVVJWSVpYR3F3NVlWeXptL3Y0MVZTNDdJM1MvcXVGdW9mUWRIWXVNUnZrc2UrV2tsa0FqRm5VCjZlWDVvUEhITEtqWDNVSnlVYTFhR3ZOR0R1RXp6cnJmY016RGtPNEZLcG1HYmRZMldJQnFaWWF3ZG5kZ1VDUGUKRVhSQ05oWWtJRmxJbkw5Z1lCRHNUWnJDWDMwL3d6QkhKcVNoVHYwODc5eDNlaERFdVV0MGRlZTNmUHdQRDJRZgptRGJDYUVOSW1nRy9Da0REUnNvcGsvSFFkK0JJK2svMEdvZlQ0VHA1dW5EcU45blZ3cWtvQzFSWWF1cjduMS9OCnE1bnNwUnBTWVQreDYrTjZKK0tBdmtRWU53WG9nVWZadyt0cTd0NWNoV1hFaXhKeVFEN2RWd2l6YVpMK09OYXoKekJrZEg3WnhrT0NGdDlTTnlRT05Tc1VNZHNrb0UxVVZ2MVdiS2VKQ2ljMnlnMTZxNjVGZzVDL3EzWUtiUldoWQp5UGdrd3RvQlpDYkdqM3NCUVBXV2lRS1JaU1FGS1dFQUJsemJyLzI4WDA2aCtycXMybzlPNGdhNXF3eXVGdzlHCkNYbVE0anhlVm04RTBoTXVkdG5jaG9pd09tYy91TWo4eExLdEI1VXgzZERKbC9pWDhyMklnZWhnZU5mSTlDZGEKUXYwQkJRUDhBUmQ0aFlmZEJnSThrT1MxK1A5blliRHl4R3BOZHdVVmIxMzJybzJNRVVFRjBvNEkxVkQ0K1FUZQpCUmRTNHp6UXJDL2Rhd2VhUDk0RE5BaG5zdUtWYlNnTXhyY3h1Q2VpVUo1V2xldXlseTdGc0VCbDRtYXRnemRnCkFKSUdOUnkwZlFJREFRQUJvMFV3UXpBT0JnTlZIUThCQWY4RUJBTUNBUVl3RWdZRFZSMFRBUUgvQkFnd0JnRUIKL3dJQkFUQWRCZ05WSFE0RUZnUVUrVEhnbEttU2RycjM2UUIwTXVMRmZRUnY2bkF3RFFZSktvWklodmNOQVFFTApCUUFEZ2dJQkFBTTk4QWdXZnEzNFB3dHVGeTJBTlFEVWttOEk5SWhFd1ZHRTRkUndOTkFodzhKYzlQQW5INnllCnpvajNhb2lKMVBWSHVQRUxXOVl4ajlBSGRmOE5Kc0V2cHh5ZXZicFBhKzJnOTBCQzJKTzdweDIzeDgyUzUxTWwKNmhxOWVGL081R2xFYVE5WnFjK0k0dWxlN3hROUV2UWNyUGxpdG1nMm9kT28vdDE5V1M3L3Bta2F2NGtCTk9tRwpyS0JoUXRieU91MnRqTkFrNDZPNm5IdE05WUZGWnpwMkliWTNwcERsVzNWZnZTZkgzS0tCTFpGOTRKQjJUTzM4Cnp2Y1RIbWhOTFVSak9mUVY4TldibjV3YzV5K0dKOHFNSWs5aEZENSt5V0JCelNaTFhyZ0wxcUlkdmFKNVFsbUYKNmEzM2NWRnVKZUZZSHgzaHFOT0xJay84R1ZDRnRqNXBBUWo2ZnU5Q1UxWCtCSkRwM2tVUDJHYzkydXkvRW9USgpISFpyOTRLc0ljanBkU1k5MTR0K0VRcm5YeGZPVWUrVEpjWDNXN29BNDJmSzQ4a3pxMERBOGY4QXkyVER1R3Y3CjdJRGIwNEdXZDBRWlhIZllHRDFTRTd5RUdNQ1JuNVpMQ2RuN0kwS1JGR0RKN2tmTlozMnVrblhwUkNXNkx2M1IKUmRyeER2M0NDdU82RElnWkpTa2I1V2VXVFczZjViNVUwUUY2TFF2eFR5V1IrYUxjMysreWxidUZkSG1BaGQ2aQpibVpCZGxZUjZYS1dkS0FmME5XTU9zYlhFUTdTSTF5bnBGOGc1VWxic01QUHErdzJEZlMrSzRKMHVvL21qQlM0CkYzVHNhRjBzeGwrY21kTUVtQ09qUklSeUtpMktMemlCSkk0Um1TNDM1T2s1eFFtK1JrRWUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ==\",\n  \"SCT\": \"\",\n  \"Identity\": {\n    \"Subject\": \"https://kubernetes.io/namespaces/default/serviceaccounts/default\",\n    \"SubjectRegExp\": \"\",\n    \"Issuer\": \"https://kubernetes.default.svc.cluster.local\",\n    \"IssuerRegExp\": \"\",\n    \"Token\": \"\"\n  }\n}"
}
```

2. Verify digest

```shell
# Request
curl -X 'POST' \
  'https://editor.swagger.io/v1/verify/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "ecdsa",
    "flow": "classic"
  },
  "digest": "Sign this digest",
  "signature": "MIGIAkIBTxDGM4YeSEtRLG7gfFMG8co6HQjSQNbW6vNyiyDYQeNNmmZLjAnokM90DZ2cw8AyXTW5TCQqoOfaJaG/7whJ62ICQgFPbEgC9jzVCNsikUHwsvCRG1dI7UmZUtSWCtuvCOCmHkbNmJ19VNFtEFUE2yt68pXkysztOHOX7N9aJUGlm73bBg==",
  "cert": "{\n  \"CertPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZSakNDQXk2Z0F3SUJBZ0lVVTNXMjhaV0Y5blNZS3BZRCsyczB3dkZlZUxvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2ZqRU1NQW9HQTFVRUJoTURWVk5CTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1SWXdGQVlEVlFRSkV3MDFORGdnVFdGeWEyVjBJRk4wTVE0d0RBWURWUVFSCkV3VTFOekkzTkRFWk1CY0dBMVVFQ2hNUVRHbHVkWGdnUm05MWJtUmhkR2x2YmpBZUZ3MHlOREE0TWpnd09UUTAKTWpWYUZ3MHlOREE0TWpnd09UVTBNalZhTUFBd2dac3dFQVlIS29aSXpqMENBUVlGSzRFRUFDTURnWVlBQkFDeQo1TDlKekNKVUtlM005RUNBL2dVN21tT2xkOEZRaVpCUWdESEszcUt1LzNmanU1MlgyV0d0Z2JsbG9NS3orbXFkCjlEbzQ5a1pHbHZaUUVWcDl2Q0EzeUFFRFRQb3VJVnRTMm1NYmk1S2FLZjcrb0V3cmRrc1g4anF6bmtBQ2x1bG8KTWZNWlRXa0w2U2YxTWZkYmhVeXFLUmN1MERXeCtLSXhjaFFBNnVSWHVTRUErcU9DQWNBd2dnRzhNQTRHQTFVZApEd0VCL3dRRUF3SUhnREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQXpBZEJnTlZIUTRFRmdRVXNzNCtFT1ZjCnh3bG1VcFNVZHY5elBTVTBUak13SHdZRFZSMGpCQmd3Rm9BVStUSGdsS21TZHJyMzZRQjBNdUxGZlFSdjZuQXcKVGdZRFZSMFJBUUgvQkVRd1FvWkFhSFIwY0hNNkx5OXJkV0psY201bGRHVnpMbWx2TDI1aGJXVnpjR0ZqWlhNdgpaR1ZtWVhWc2RDOXpaWEoyYVdObFlXTmpiM1Z1ZEhNdlpHVm1ZWFZzZERBNkJnb3JCZ0VFQVlPL01BRUJCQ3hvCmRIUndjem92TDJ0MVltVnlibVYwWlhNdVpHVm1ZWFZzZEM1emRtTXVZMngxYzNSbGNpNXNiMk5oYkRBOEJnb3IKQmdFRUFZTy9NQUVJQkM0TUxHaDBkSEJ6T2k4dmEzVmlaWEp1WlhSbGN5NWtaV1poZFd4MExuTjJZeTVqYkhWegpkR1Z5TG14dlkyRnNNSUdLQmdvckJnRUVBZFo1QWdRQ0JId0VlZ0I0QUhZQURCc3pMYXppa3NwOXpGM2J3Q245Ck5FUG5yZG5PS2l0QWNXYW1aWU9hNkprQUFBR1JtRjlCc0FBQUJBTUFSekJGQWlCK01hMlBtdkZZWkc3VngxZFkKM2pNRHlJSjVMVUpUQXlQdDBvQXFIZC9lbUFJaEFQZExJdHJkYXNnNnFIQkkrUWEwcUpWQ21za1RqWHhJTnhBNQpLZTJIRWNYdE1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQnh0bDRXV1FWenJMMEptQW1JUWJEbml4WWFycXh2CjQ4NUt4YmhtRXp4UU5LMlhnNFVUOUhSQjBPK01FVS9QakI1RkJ0MW1JZUxKQnUyV0k4YlZzK0cwNzNLcG5JRFkKbEtnY2RvV0VUYzNCVUtmTHVvUjMzSnJEbTl3UjZPdEhodnVKbmd2MFZVZ2lMZm9ReHlSS3h2ZXFoVTNOTGlBNQpQMlUraVBaMG55TmNNZDNJMWpHQWdRN3d5dllITzUyZDVPNE5sK216UzBxdmhTSUtIbE4zQ0R3S0ljdlJYSG5HCmlzc3YzcEZKVHlPVlR3WlF1dzdncGdTalpxTTBBS2ZlNzV5em5SeU9qNjZUYUVwajdSMFdNS1R5K3Npa3RjL1kKemhwdTQyVU13Zkh1UklrTW8zaVF0dllVTHRGUktTeFNnWEZjUjF5RTc5M0c0VnFxRURReHQxa2ViVUZUZ0ZHMAp2WHRxa1kwYnk1WEdPK0VqL0diRGFMU1Z3M3ovLzJsYzhtOGRJZVZmc2VyQnRac2pWN2p4TGY1R3I2VUY5Q0hCCk5NRWIyaGhOcHlQUWI1c2xSc2lGcGVNd0RCUHhoOTB1alVqdy9MSHdMWXRiRCt2RzUrRldBZXNJdmVpZXRWd2EKTnNtZm9xaDFJTjZRQVdxSlJ5QzlaWitZUXZSZDdtZExJU1VCZzhGRUxrMDgxUG9Wdk4vY21hTThCRnh1czErZwovT09DWG9WZFB1MVlUdG5EWXM0K0xYVCtpRVFWVjNRWURhVnkxMEd1dzdTUWkwdDVOaWhoOTFWNGdGRGprNmVGCnJTdEFKOUVMclp0ZWtIRzFIenpZNXFEenQ0Y2hLYjZnY1NnYUtraWVod3AvYXVTdytldlgyQ0plbFhsaVByOWwKTk9IY0paVkd5UWQ0a2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\",\n  \"ChainPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZ3ekNDQTZ1Z0F3SUJBZ0lJSkwrdkxFbjhydEV3RFFZSktvWklodmNOQVFFTEJRQXdmakVNTUFvR0ExVUUKQmhNRFZWTkJNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcApjMk52TVJZd0ZBWURWUVFKRXcwMU5EZ2dUV0Z5YTJWMElGTjBNUTR3REFZRFZRUVJFd1UxTnpJM05ERVpNQmNHCkExVUVDaE1RVEdsdWRYZ2dSbTkxYm1SaGRHbHZiakFlRncweU5EQTNNalV3TXpFNE1qSmFGdzB5TlRBM01qVXcKTXpFNE1qSmFNSDR4RERBS0JnTlZCQVlUQTFWVFFURVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRRwpBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVXTUJRR0ExVUVDUk1OTlRRNElFMWhjbXRsZENCVGRERU9NQXdHCkExVUVFUk1GTlRjeU56UXhHVEFYQmdOVkJBb1RFRXhwYm5WNElFWnZkVzVrWVhScGIyNHdnZ0lpTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQ3ZnWnkwMHcvbloyTi9nNjM2aG9YeDA5RUhsN01hT0Rlagp6UyttVXdjekNFVVJWSVpYR3F3NVlWeXptL3Y0MVZTNDdJM1MvcXVGdW9mUWRIWXVNUnZrc2UrV2tsa0FqRm5VCjZlWDVvUEhITEtqWDNVSnlVYTFhR3ZOR0R1RXp6cnJmY016RGtPNEZLcG1HYmRZMldJQnFaWWF3ZG5kZ1VDUGUKRVhSQ05oWWtJRmxJbkw5Z1lCRHNUWnJDWDMwL3d6QkhKcVNoVHYwODc5eDNlaERFdVV0MGRlZTNmUHdQRDJRZgptRGJDYUVOSW1nRy9Da0REUnNvcGsvSFFkK0JJK2svMEdvZlQ0VHA1dW5EcU45blZ3cWtvQzFSWWF1cjduMS9OCnE1bnNwUnBTWVQreDYrTjZKK0tBdmtRWU53WG9nVWZadyt0cTd0NWNoV1hFaXhKeVFEN2RWd2l6YVpMK09OYXoKekJrZEg3WnhrT0NGdDlTTnlRT05Tc1VNZHNrb0UxVVZ2MVdiS2VKQ2ljMnlnMTZxNjVGZzVDL3EzWUtiUldoWQp5UGdrd3RvQlpDYkdqM3NCUVBXV2lRS1JaU1FGS1dFQUJsemJyLzI4WDA2aCtycXMybzlPNGdhNXF3eXVGdzlHCkNYbVE0anhlVm04RTBoTXVkdG5jaG9pd09tYy91TWo4eExLdEI1VXgzZERKbC9pWDhyMklnZWhnZU5mSTlDZGEKUXYwQkJRUDhBUmQ0aFlmZEJnSThrT1MxK1A5blliRHl4R3BOZHdVVmIxMzJybzJNRVVFRjBvNEkxVkQ0K1FUZQpCUmRTNHp6UXJDL2Rhd2VhUDk0RE5BaG5zdUtWYlNnTXhyY3h1Q2VpVUo1V2xldXlseTdGc0VCbDRtYXRnemRnCkFKSUdOUnkwZlFJREFRQUJvMFV3UXpBT0JnTlZIUThCQWY4RUJBTUNBUVl3RWdZRFZSMFRBUUgvQkFnd0JnRUIKL3dJQkFUQWRCZ05WSFE0RUZnUVUrVEhnbEttU2RycjM2UUIwTXVMRmZRUnY2bkF3RFFZSktvWklodmNOQVFFTApCUUFEZ2dJQkFBTTk4QWdXZnEzNFB3dHVGeTJBTlFEVWttOEk5SWhFd1ZHRTRkUndOTkFodzhKYzlQQW5INnllCnpvajNhb2lKMVBWSHVQRUxXOVl4ajlBSGRmOE5Kc0V2cHh5ZXZicFBhKzJnOTBCQzJKTzdweDIzeDgyUzUxTWwKNmhxOWVGL081R2xFYVE5WnFjK0k0dWxlN3hROUV2UWNyUGxpdG1nMm9kT28vdDE5V1M3L3Bta2F2NGtCTk9tRwpyS0JoUXRieU91MnRqTkFrNDZPNm5IdE05WUZGWnpwMkliWTNwcERsVzNWZnZTZkgzS0tCTFpGOTRKQjJUTzM4Cnp2Y1RIbWhOTFVSak9mUVY4TldibjV3YzV5K0dKOHFNSWs5aEZENSt5V0JCelNaTFhyZ0wxcUlkdmFKNVFsbUYKNmEzM2NWRnVKZUZZSHgzaHFOT0xJay84R1ZDRnRqNXBBUWo2ZnU5Q1UxWCtCSkRwM2tVUDJHYzkydXkvRW9USgpISFpyOTRLc0ljanBkU1k5MTR0K0VRcm5YeGZPVWUrVEpjWDNXN29BNDJmSzQ4a3pxMERBOGY4QXkyVER1R3Y3CjdJRGIwNEdXZDBRWlhIZllHRDFTRTd5RUdNQ1JuNVpMQ2RuN0kwS1JGR0RKN2tmTlozMnVrblhwUkNXNkx2M1IKUmRyeER2M0NDdU82RElnWkpTa2I1V2VXVFczZjViNVUwUUY2TFF2eFR5V1IrYUxjMysreWxidUZkSG1BaGQ2aQpibVpCZGxZUjZYS1dkS0FmME5XTU9zYlhFUTdTSTF5bnBGOGc1VWxic01QUHErdzJEZlMrSzRKMHVvL21qQlM0CkYzVHNhRjBzeGwrY21kTUVtQ09qUklSeUtpMktMemlCSkk0Um1TNDM1T2s1eFFtK1JrRWUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ==\",\n  \"SCT\": \"\",\n  \"Identity\": {\n    \"Subject\": \"https://kubernetes.io/namespaces/default/serviceaccounts/default\",\n    \"SubjectRegExp\": \"\",\n    \"Issuer\": \"https://kubernetes.default.svc.cluster.local\",\n    \"IssuerRegExp\": \"\",\n    \"Token\": \"\"\n  }\n}",
  "cert_issuer": "https://kubernetes.default.svc.cluster.local",
  "cert_san": "https://kubernetes.io/namespaces/default/serviceaccounts/default",
  "sign_mgr": "rekor",
  "sign_mgr_url": "http://rekor.rekor-system.svc:18080",
  "cert_mgr": "fulcio",
  "cert_mgr_url": "http://fulcio.fulcio-system.svc:18080"
}'

# Response
{
  "base_config": {
    "algo": "ecdsa",
    "kms": "",
    "flow": "classic"
  },
  "result": "OK"
}
```

### Sign/Verify with KMS

1. Keypair generation

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/keypair' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "algo": "rsa",
  "kms": "rustyvault",
  "flow": "classic"
}' | jq

# Response
{
  "base_config": {
    "algo": "rsa",
    "kms": "rustyvault",
    "flow": "classic"
  },
  "priv": "",
  "pub": "",
  "keyId": "key-id"
}
```

2. Sign digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/sign/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "rsa",
    "kms": "rustyvault",
    "flow": "classic"
  },
  "keyId": "key-id",
  "digest": "A string of digest"
}' | jq

# Response
{
  "base_config": {
    "algo": "rsa",
    "kms": "rustyvault",
    "flow": "classic"
  },
  "signature": "MEYCIQCDjbsGf3MFmMg8wQ5H7TXQcFwiMR0atjKiMusch7fhbAIhAPiXbhF8n0pTech/MBIfBDIzZJSD0/j5HBliXAQ0LhWz",
  "cert": ""
}
```

3. Verify digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/verify/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "sm2",
    "flow": "classic"
  },
  "keyId": "key-id",
  "digest": "A string of digest",
  "signature": "MEYCIQCDjbsGf3MFmMg8wQ5H7TXQcFwiMR0atjKiMusch7fhbAIhAPiXbhF8n0pTech/MBIfBDIzZJSD0/j5HBliXAQ0LhWz"
}' | jq

# Response
{
  "base_config": {
    "algo": "rsa",
    "kms": "rustyvault",
    "flow": "classic"
  },
  "result": "OK"
}
```

### Sign/Verify without key by njca

1. Sign ecdsa digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/sign/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "ecdsa",
    "flow": "classic"
  },
  "digest": "Sign this digest",
  "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImpMY2ZFS1JHUVFldGdGUWFwUGJqS2dCcE53ZElRWHhDUUU4ZjdwQUVGQmcifQ.eyJhdWQiOlsic2lnc3RvcmUiXSwiZXhwIjoxNzQyODk3MTA0LCJpYXQiOjE3NDI4OTY1MDQsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJnZXR0b2tlbi0wMDAwMS1kZXBsb3ltZW50LWY0OGQ0YmM2Yy1sang5ciIsInVpZCI6IjViY2I4MDE2LWNmNDQtNGMzZS1hZDA5LTE0Zjk4OGJjZTE2YiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjNjY2YzODg2LTIxN2UtNGMzOC1iMWU4LTNhNWE0MDgwZjgwNyJ9fSwibmJmIjoxNzQyODk2NTA0LCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZGVmYXVsdDpkZWZhdWx0In0.gULdnrzhxTK3lUtVIc2QL5ZmxH0hoRq9iRp7fnhkl-_bSRf0zVB9_oDLRG6juEA891456QF3hKvaLs9niKbp7s65kNRNRfbX5owbM3BLpD9i5EfItFQxq7UTgBd6WsEC5rUdMpWAyoVTrB8w0wZh7AfEyUXERj5-wsk3YpBwuaIcNKzUa5oz8TlGYcKqjs5TaK2aH1Oo8hx-Em_4JwbUIe0qiC30ujw-0la0KQO3T0kwGb9k5HswWoXzvxj5njBtMaw97wwfkfV-HnKJU5n3PWqpMcx6uA1BOunYAH3V6m69_PqL-IA8IjHeppZs8LsCiT_p9LvUeR3aq3aJkxHysA",
  "cert_mgr": "njca",
  "cert_mgr_url": "http://10.211.201.241/entca/v1/CertBusiness"
}'

# Response
{
    "base_config": {
        "algo": "ecdsa",
        "kms": "",
        "flow": "classic"
    },
    "signature": "MIGHAkFO9SfHWaKFSxjn2ZSUNlDrtpq8XCsAZMBy979tXZ34LfKZgHJ9S6ooNryIcVYCnemquGLwv1DS3kFlkfe4kRXq9gJCAU8d1xyAwfyM66Iy7OeT9yQCTEl7E4dBtIFl/Ela9lVZzn7FF01I6AlQaVqdnYv5ZQ7N6ALvycWmpxUs6kIlz61J",
    "cert": "{\n  \"CertPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIakNDQWNTZ0F3SUJBZ0lnTXpZNVl6QTVNamsyWkRBeU5HTTJOemhsTldNNVl6SXlaRFExWmpRNE5tVXcKQ2dZSUtvWkl6ajBFQXdJd0p6RUxNQWtHQTFVRUJoTUNRMDR4R0RBV0JnTlZCQU1NRCtTNmpPZTZwK2FndVY5RgpRMFJUUVRBZUZ3MHlOVEF6TWpVeE1ERXpOVGRhRncweU5UQXpNalV4TURNek5UZGFNRmN4Q1RBSEJnTlZCQVlUCkFERUpNQWNHQTFVRUNBd0FNUWt3QndZRFZRUUhEQUF4Q1RBSEJnTlZCQW9NQURFcE1DY0dBMVVFQXd3Z09EUTUKTlRkbU5ERXpOVEkxWlRka01qVXdZelpoTnpWa05qRm1NRFEzTmpjd2dac3dFQVlIS29aSXpqMENBUVlGSzRFRQpBQ01EZ1lZQUJBQVM4amF4Mks4UUZTSThVK1BpOThTbnA4WHRPSnN5UU1nSTAzRnpSMkEzb3JaTTc0QjdLS3RVCkkrVWovQ3I5QXRQQzdOSU5oL1ZZbjkwM0ZjMCtSVnpxcXdGdU9sVDNPbktzVzB1ZTBySTR0Wi9IcVRSV1NJM00KMldkVm42ZXZnRlZBSjI4dm1jUEZqSmVlRTRZR1d5SEgrSGZ3NGhuY0RhV21KdmNxdnpScTJidEpVcU5QTUUwdwpId1lEVlIwakJCZ3dGb0FVMHJzSU5BalhzNnVKdnZhdVpjT1pIWDkxeEM4d0N3WURWUjBQQkFRREFnZUFNQjBHCkExVWREZ1FXQkJSMWRBWVpLQlRrNU9xVlJjcDVJS1VSZGNvdWh6QUtCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUEKdUxDd0pxOWpMU1JJZDZzNFBYVEc0dDRtaW1iRU5yYlBPNnlkVHlESUhFd0NJQ29WQ3N4Zk55SVd6MkhOdWpGSApOWGNHVWZ5R2pzK3pYN0k0K1NONlpjSGQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=\",\n  \"ChainPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJwVENDQVV1Z0F3SUJBZ0lPQTNhang3NzlUTHloSlhIcHQ4QXdDZ1lJS29aSXpqMEVBd0l3SmpFTE1Ba0cKQTFVRUJoTUNRMDR4RnpBVkJnTlZCQU1NRHVTNGdPZTZwK2FndVVWRFJGTkJNQjRYRFRJMU1ETXhOekEzTURBeQpNVm9YRFRNMU1ETXhOekEzTURBeU1Wb3dKakVMTUFrR0ExVUVCaE1DUTA0eEZ6QVZCZ05WQkFNTUR1UzRnT2U2CnArYWd1VVZEUkZOQk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRU1MeWZHVFJvR01Mby8rL2QKTWNQbGtwamt5TnNZZnJaQkxrTGJyc1RFRU1IMkk1YUR6WEF0Y2p5UGtUM1A1NEl2VVZhRnFDWnJsVGV1ZjJnWgpXTyt5L2FOZE1Gc3dDd1lEVlIwUEJBUURBZ0VHTUF3R0ExVWRFd1FGTUFNQkFmOHdId1lEVlIwakJCZ3dGb0FVCmpPR3BmTjV3OGRwOEk2QnVCRW1ab0hoT3c4MHdIUVlEVlIwT0JCWUVGSXpocVh6ZWNQSGFmQ09nYmdSSm1hQjQKVHNQTk1Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lEeFREMU1iUk5zZWpYeUpPd0RXT1pSNmlSdVpqMWlDZmkrbgpnR1pVaUVCcEFpRUFqOWgrMmgwbm1qR1BLYnJteVpBNzNnRFFMNTVkaDIyVUtENDd0emhUK1ZRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlCcHpDQ0FVeWdBd0lCQWdJT0JMaHpMWmtBRDl1L0ZnVzVWU013Q2dZSUtvWkl6ajBFQXdJd0pqRUxNQWtHCkExVUVCaE1DUTA0eEZ6QVZCZ05WQkFNTUR1UzRnT2U2cCthZ3VVVkRSRk5CTUI0WERUSTFNRE14TnpBM01EUXkKTkZvWERUTXdNRE14TnpBM01EUXlORm93SnpFTE1Ba0dBMVVFQmhNQ1EwNHhHREFXQmdOVkJBTU1EK1M2ak9lNgpwK2FndVY5RlEwUlRRVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTCtxVlQ3OTJwTm02OVJvCkJLWCtSdEhTYnczSkxqNk9DVXFzSzBsa0tXMnA0MHB0L2pSanhqaWUwWDN6Q3kzdUVicFZYUG5PbldvQ3NVWGgKc2d3ZWlIS2pYVEJiTUFzR0ExVWREd1FFQXdJQkJqQU1CZ05WSFJNRUJUQURBUUgvTUI4R0ExVWRJd1FZTUJhQQpGSXpocVh6ZWNQSGFmQ09nYmdSSm1hQjRUc1BOTUIwR0ExVWREZ1FXQkJUU3V3ZzBDTmV6cTRtKzlxNWx3NWtkCmYzWEVMekFLQmdncWhrak9QUVFEQWdOSkFEQkdBaUVBa2cvNERDUitqbExwL0tDVzh0QnZKaUhCaTVJa3J2eFUKNDhwa2swWUgyUE1DSVFEQnVWVjBNMjgxRmtpUG4wYkJRc1R1UGZBVE1MbDJSQ0J5YmJaZXRVNXlaQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\",\n  \"SCT\": null,\n  \"Identity\": {\n    \"Subject\": \"\",\n    \"SubjectRegExp\": \"\",\n    \"Issuer\": \"\",\n    \"IssuerRegExp\": \"\",\n    \"Token\": \"\",\n    \"ClientID\": \"\",\n    \"ClientSecret\": \"\",\n    \"AuthFlow\": \"\",\n    \"SecretKey\": null\n  }\n}"
}
```

2. Verify ecdsa digest

```shell
# Request
curl -X 'POST' \
  'https://editor.swagger.io/v1/verify/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "ecdsa",
    "flow": "classic"
  },
  "digest": "Sign this digest",
  "signature": "MIGHAkFO9SfHWaKFSxjn2ZSUNlDrtpq8XCsAZMBy979tXZ34LfKZgHJ9S6ooNryIcVYCnemquGLwv1DS3kFlkfe4kRXq9gJCAU8d1xyAwfyM66Iy7OeT9yQCTEl7E4dBtIFl/Ela9lVZzn7FF01I6AlQaVqdnYv5ZQ7N6ALvycWmpxUs6kIlz61J",
  "cert": "{\n  \"CertPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIakNDQWNTZ0F3SUJBZ0lnTXpZNVl6QTVNamsyWkRBeU5HTTJOemhsTldNNVl6SXlaRFExWmpRNE5tVXcKQ2dZSUtvWkl6ajBFQXdJd0p6RUxNQWtHQTFVRUJoTUNRMDR4R0RBV0JnTlZCQU1NRCtTNmpPZTZwK2FndVY5RgpRMFJUUVRBZUZ3MHlOVEF6TWpVeE1ERXpOVGRhRncweU5UQXpNalV4TURNek5UZGFNRmN4Q1RBSEJnTlZCQVlUCkFERUpNQWNHQTFVRUNBd0FNUWt3QndZRFZRUUhEQUF4Q1RBSEJnTlZCQW9NQURFcE1DY0dBMVVFQXd3Z09EUTUKTlRkbU5ERXpOVEkxWlRka01qVXdZelpoTnpWa05qRm1NRFEzTmpjd2dac3dFQVlIS29aSXpqMENBUVlGSzRFRQpBQ01EZ1lZQUJBQVM4amF4Mks4UUZTSThVK1BpOThTbnA4WHRPSnN5UU1nSTAzRnpSMkEzb3JaTTc0QjdLS3RVCkkrVWovQ3I5QXRQQzdOSU5oL1ZZbjkwM0ZjMCtSVnpxcXdGdU9sVDNPbktzVzB1ZTBySTR0Wi9IcVRSV1NJM00KMldkVm42ZXZnRlZBSjI4dm1jUEZqSmVlRTRZR1d5SEgrSGZ3NGhuY0RhV21KdmNxdnpScTJidEpVcU5QTUUwdwpId1lEVlIwakJCZ3dGb0FVMHJzSU5BalhzNnVKdnZhdVpjT1pIWDkxeEM4d0N3WURWUjBQQkFRREFnZUFNQjBHCkExVWREZ1FXQkJSMWRBWVpLQlRrNU9xVlJjcDVJS1VSZGNvdWh6QUtCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUEKdUxDd0pxOWpMU1JJZDZzNFBYVEc0dDRtaW1iRU5yYlBPNnlkVHlESUhFd0NJQ29WQ3N4Zk55SVd6MkhOdWpGSApOWGNHVWZ5R2pzK3pYN0k0K1NONlpjSGQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=\",\n  \"ChainPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJwVENDQVV1Z0F3SUJBZ0lPQTNhang3NzlUTHloSlhIcHQ4QXdDZ1lJS29aSXpqMEVBd0l3SmpFTE1Ba0cKQTFVRUJoTUNRMDR4RnpBVkJnTlZCQU1NRHVTNGdPZTZwK2FndVVWRFJGTkJNQjRYRFRJMU1ETXhOekEzTURBeQpNVm9YRFRNMU1ETXhOekEzTURBeU1Wb3dKakVMTUFrR0ExVUVCaE1DUTA0eEZ6QVZCZ05WQkFNTUR1UzRnT2U2CnArYWd1VVZEUkZOQk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRU1MeWZHVFJvR01Mby8rL2QKTWNQbGtwamt5TnNZZnJaQkxrTGJyc1RFRU1IMkk1YUR6WEF0Y2p5UGtUM1A1NEl2VVZhRnFDWnJsVGV1ZjJnWgpXTyt5L2FOZE1Gc3dDd1lEVlIwUEJBUURBZ0VHTUF3R0ExVWRFd1FGTUFNQkFmOHdId1lEVlIwakJCZ3dGb0FVCmpPR3BmTjV3OGRwOEk2QnVCRW1ab0hoT3c4MHdIUVlEVlIwT0JCWUVGSXpocVh6ZWNQSGFmQ09nYmdSSm1hQjQKVHNQTk1Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lEeFREMU1iUk5zZWpYeUpPd0RXT1pSNmlSdVpqMWlDZmkrbgpnR1pVaUVCcEFpRUFqOWgrMmgwbm1qR1BLYnJteVpBNzNnRFFMNTVkaDIyVUtENDd0emhUK1ZRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlCcHpDQ0FVeWdBd0lCQWdJT0JMaHpMWmtBRDl1L0ZnVzVWU013Q2dZSUtvWkl6ajBFQXdJd0pqRUxNQWtHCkExVUVCaE1DUTA0eEZ6QVZCZ05WQkFNTUR1UzRnT2U2cCthZ3VVVkRSRk5CTUI0WERUSTFNRE14TnpBM01EUXkKTkZvWERUTXdNRE14TnpBM01EUXlORm93SnpFTE1Ba0dBMVVFQmhNQ1EwNHhHREFXQmdOVkJBTU1EK1M2ak9lNgpwK2FndVY5RlEwUlRRVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTCtxVlQ3OTJwTm02OVJvCkJLWCtSdEhTYnczSkxqNk9DVXFzSzBsa0tXMnA0MHB0L2pSanhqaWUwWDN6Q3kzdUVicFZYUG5PbldvQ3NVWGgKc2d3ZWlIS2pYVEJiTUFzR0ExVWREd1FFQXdJQkJqQU1CZ05WSFJNRUJUQURBUUgvTUI4R0ExVWRJd1FZTUJhQQpGSXpocVh6ZWNQSGFmQ09nYmdSSm1hQjRUc1BOTUIwR0ExVWREZ1FXQkJUU3V3ZzBDTmV6cTRtKzlxNWx3NWtkCmYzWEVMekFLQmdncWhrak9QUVFEQWdOSkFEQkdBaUVBa2cvNERDUitqbExwL0tDVzh0QnZKaUhCaTVJa3J2eFUKNDhwa2swWUgyUE1DSVFEQnVWVjBNMjgxRmtpUG4wYkJRc1R1UGZBVE1MbDJSQ0J5YmJaZXRVNXlaQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\",\n  \"SCT\": null,\n  \"Identity\": {\n    \"Subject\": \"\",\n    \"SubjectRegExp\": \"\",\n    \"Issuer\": \"\",\n    \"IssuerRegExp\": \"\",\n    \"Token\": \"\",\n    \"ClientID\": \"\",\n    \"ClientSecret\": \"\",\n    \"AuthFlow\": \"\",\n    \"SecretKey\": null\n  }\n}",
  "cert_mgr": "njca",
  "cert_mgr_url": "http://10.211.201.241/entca/v1/CertBusiness"
}'

# Response
{
    "base_config": {
        "algo": "ecdsa",
        "kms": "",
        "flow": "classic"
    },
    "result": "OK"
}
```

3. Sign sm2 digest

```shell
# Request
curl -X 'POST' \
  'http://[host]:[port]/v1/sign/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "sm2",
    "flow": "classic"
  },
  "digest": "Sign this digest",
  "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImpMY2ZFS1JHUVFldGdGUWFwUGJqS2dCcE53ZElRWHhDUUU4ZjdwQUVGQmcifQ.eyJhdWQiOlsic2lnc3RvcmUiXSwiZXhwIjoxNzQyODk3MTA0LCJpYXQiOjE3NDI4OTY1MDQsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJnZXR0b2tlbi0wMDAwMS1kZXBsb3ltZW50LWY0OGQ0YmM2Yy1sang5ciIsInVpZCI6IjViY2I4MDE2LWNmNDQtNGMzZS1hZDA5LTE0Zjk4OGJjZTE2YiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjNjY2YzODg2LTIxN2UtNGMzOC1iMWU4LTNhNWE0MDgwZjgwNyJ9fSwibmJmIjoxNzQyODk2NTA0LCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZGVmYXVsdDpkZWZhdWx0In0.gULdnrzhxTK3lUtVIc2QL5ZmxH0hoRq9iRp7fnhkl-_bSRf0zVB9_oDLRG6juEA891456QF3hKvaLs9niKbp7s65kNRNRfbX5owbM3BLpD9i5EfItFQxq7UTgBd6WsEC5rUdMpWAyoVTrB8w0wZh7AfEyUXERj5-wsk3YpBwuaIcNKzUa5oz8TlGYcKqjs5TaK2aH1Oo8hx-Em_4JwbUIe0qiC30ujw-0la0KQO3T0kwGb9k5HswWoXzvxj5njBtMaw97wwfkfV-HnKJU5n3PWqpMcx6uA1BOunYAH3V6m69_PqL-IA8IjHeppZs8LsCiT_p9LvUeR3aq3aJkxHysA",
  "cert_mgr": "njca",
  "cert_mgr_url": "http://10.211.201.241/entca/v1/CertBusiness"
}'

# Response
{
    "base_config": {
        "algo": "sm2",
        "kms": "",
        "flow": "classic"
    },
    "signature": "MEUCIQDIsM6lK/PTp78IUqUmojDh39wSMrpMgXqoM4mk0kywPwIgSQqP3xBXM6AieDaASo6KCKUpjCV8hBmM+FeoSx4rZnU=",
    "cert": "{\n  \"CertPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUIyVENDQVgrZ0F3SUJBZ0lnTVRGaU9XUmtPRFprT1RRNE5EZzFZMkV5TWpWaU5qbGxaamRoWkdaaVptSXcKQ2dZSUtvRWN6MVVCZzNVd0pURUxNQWtHQTFVRUJoTUNRMDR4RmpBVUJnTlZCQU1NRGVTNmpPZTZwK2FndVY5VApUVEl3SGhjTk1qVXdNekk0TURZMU9EUTJXaGNOTWpVd016STRNRGN4T0RRMldqQlhNUWt3QndZRFZRUUdFd0F4CkNUQUhCZ05WQkFnTUFERUpNQWNHQTFVRUJ3d0FNUWt3QndZRFZRUUtEQUF4S1RBbkJnTlZCQU1NSURnME9UVTMKWmpReE16VXlOV1UzWkRJMU1HTTJZVGMxWkRZeFpqQTBOelkzTUZrd0V3WUhLb1pJemowQ0FRWUlLb0VjejFVQgpnaTBEUWdBRUdPRkhFY0pEcGFrdWRaRnNWVEM4SUptMVFoN3Bma3duZzUzUjdQcVRMeVljdnRTKzRRbS9UTWpBCkw0MUh1b2ljemFzMEVrdFNOV0NqditCSCthcUxtS05QTUUwd0h3WURWUjBqQkJnd0ZvQVVoWWE4ZGx2cVVrd00KRE1hZnBBNUZVNkt3QUcwd0N3WURWUjBQQkFRREFnZUFNQjBHQTFVZERnUVdCQlQ5MEZWZldBVVVYUHozSGNHQwptRTFvZUFWRTdUQUtCZ2dxZ1J6UFZRR0RkUU5JQURCRkFpQjhuOVB1RHpFdVp3dVhKR2p3WVVsWmhuU3hWUkxzCkhud1ZzL0pqTm1keE5RSWhBSlJZV0QzREcvc1R6RFg5QUFOZ1VFNzMvZ25FWnArZ3ErZVliem5TbzhJMgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\",\n  \"ChainPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvekNDQVVtZ0F3SUJBZ0lPQkFGTFo0aHBmVDRKTitJczRod3dDZ1lJS29FY3oxVUJnM1V3SkRFTE1Ba0cKQTFVRUJoTUNRMDR4RlRBVEJnTlZCQU1NRE9TNGdPZTZwK2FndVZOTk1qQWdGdzB5TkRFeE1qSXhNek0xTWpKYQpHQTh5TURjME1URXlNakV6TXpVeU1sb3dKREVMTUFrR0ExVUVCaE1DUTA0eEZUQVRCZ05WQkFNTURPUzRnT2U2CnArYWd1Vk5OTWpCWk1CTUdCeXFHU000OUFnRUdDQ3FCSE05VkFZSXRBMElBQk1jU3ROamwxekFOQ1RZTU1Dd1AKaEYzUlJhRXRGaDhoVHZ3aEhFbWFiMnprcVErTHMwRnYzQ091WlZGOTY5YzYxMGNFRVpaVFdkaUI0V2hRaTZ6YgpHRStqWFRCYk1Bc0dBMVVkRHdRRUF3SUJCakFNQmdOVkhSTUVCVEFEQVFIL01COEdBMVVkSXdRWU1CYUFGSHRUClY0Z3B3L3dJbHZjUHh6eFlDVkx2YlE0Qk1CMEdBMVVkRGdRV0JCUjdVMWVJS2NQOENKYjNEOGM4V0FsUzcyME8KQVRBS0JnZ3FnUnpQVlFHRGRRTklBREJGQWlBZlUxdUd0VVd3MTI5em9WK0xVUlFwOU5uanRwV3NrWmRxWHNjTApWeXBlWHdJaEFNaTUvTldGZUlTU3U1NHZVUlI0a0pTNVJzOG94d2ozY0FIcmJGQ2k2RXA3Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvekNDQVVpZ0F3SUJBZ0lPQk9IT1dyaGhNQm15MURrODFOSXdDZ1lJS29FY3oxVUJnM1V3SkRFTE1Ba0cKQTFVRUJoTUNRMDR4RlRBVEJnTlZCQU1NRE9TNGdPZTZwK2FndVZOTk1qQWVGdzB5TkRFeE1qSXhNelExTWpCYQpGdzAwTkRFeE1qSXhNelExTWpCYU1DVXhDekFKQmdOVkJBWVRBa05PTVJZd0ZBWURWUVFEREEza3Vvem51cWZtCm9MbGZVMDB5TUZrd0V3WUhLb1pJemowQ0FRWUlLb0VjejFVQmdpMERRZ0FFb2NQVlA3TENvSGRJUGYvenM1ODUKbHp5d3BMNzYyMVhVZUlHMkIxankvK2JxV1ZQZmNNOE1oMWprQUVrczJxUDhmeloxOEdKaTJzRzdDbTNFY25tWApoS05kTUZzd0N3WURWUjBQQkFRREFnRUdNQXdHQTFVZEV3UUZNQU1CQWY4d0h3WURWUjBqQkJnd0ZvQVVlMU5YCmlDbkQvQWlXOXcvSFBGZ0pVdTl0RGdFd0hRWURWUjBPQkJZRUZJV0d2SFpiNmxKTURBekduNlFPUlZPaXNBQnQKTUFvR0NDcUJITTlWQVlOMUEwa0FNRVlDSVFEZ0ZvVVVtOGl1ZEVWNGJWbnJ1ck1ET2dETTBXalk2eWg4bEdzZwpMUGxpVHdJaEFPcFY0dVlESXlVMURaSExjNC8wdWc2eGZUN1cvTmtKMW92eFpWZlJMMEFqCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\",\n  \"SCT\": null,\n  \"Identity\": {\n    \"Subject\": \"\",\n    \"SubjectRegExp\": \"\",\n    \"Issuer\": \"\",\n    \"IssuerRegExp\": \"\",\n    \"Token\": \"\",\n    \"ClientID\": \"\",\n    \"ClientSecret\": \"\",\n    \"AuthFlow\": \"\",\n    \"SecretKey\": null\n  }\n}"
}
```

4. Verify sm2 digest

```shell
# Request
curl -X 'POST' \
  'https://editor.swagger.io/v1/verify/digest' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "base_config": {
    "algo": "sm2",
    "flow": "classic"
  },
  "digest": "Sign this digest",
  "signature": "MEUCIQDIsM6lK/PTp78IUqUmojDh39wSMrpMgXqoM4mk0kywPwIgSQqP3xBXM6AieDaASo6KCKUpjCV8hBmM+FeoSx4rZnU=",
  "cert": "{\n  \"CertPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUIyVENDQVgrZ0F3SUJBZ0lnTVRGaU9XUmtPRFprT1RRNE5EZzFZMkV5TWpWaU5qbGxaamRoWkdaaVptSXcKQ2dZSUtvRWN6MVVCZzNVd0pURUxNQWtHQTFVRUJoTUNRMDR4RmpBVUJnTlZCQU1NRGVTNmpPZTZwK2FndVY5VApUVEl3SGhjTk1qVXdNekk0TURZMU9EUTJXaGNOTWpVd016STRNRGN4T0RRMldqQlhNUWt3QndZRFZRUUdFd0F4CkNUQUhCZ05WQkFnTUFERUpNQWNHQTFVRUJ3d0FNUWt3QndZRFZRUUtEQUF4S1RBbkJnTlZCQU1NSURnME9UVTMKWmpReE16VXlOV1UzWkRJMU1HTTJZVGMxWkRZeFpqQTBOelkzTUZrd0V3WUhLb1pJemowQ0FRWUlLb0VjejFVQgpnaTBEUWdBRUdPRkhFY0pEcGFrdWRaRnNWVEM4SUptMVFoN3Bma3duZzUzUjdQcVRMeVljdnRTKzRRbS9UTWpBCkw0MUh1b2ljemFzMEVrdFNOV0NqditCSCthcUxtS05QTUUwd0h3WURWUjBqQkJnd0ZvQVVoWWE4ZGx2cVVrd00KRE1hZnBBNUZVNkt3QUcwd0N3WURWUjBQQkFRREFnZUFNQjBHQTFVZERnUVdCQlQ5MEZWZldBVVVYUHozSGNHQwptRTFvZUFWRTdUQUtCZ2dxZ1J6UFZRR0RkUU5JQURCRkFpQjhuOVB1RHpFdVp3dVhKR2p3WVVsWmhuU3hWUkxzCkhud1ZzL0pqTm1keE5RSWhBSlJZV0QzREcvc1R6RFg5QUFOZ1VFNzMvZ25FWnArZ3ErZVliem5TbzhJMgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\",\n  \"ChainPEM\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvekNDQVVtZ0F3SUJBZ0lPQkFGTFo0aHBmVDRKTitJczRod3dDZ1lJS29FY3oxVUJnM1V3SkRFTE1Ba0cKQTFVRUJoTUNRMDR4RlRBVEJnTlZCQU1NRE9TNGdPZTZwK2FndVZOTk1qQWdGdzB5TkRFeE1qSXhNek0xTWpKYQpHQTh5TURjME1URXlNakV6TXpVeU1sb3dKREVMTUFrR0ExVUVCaE1DUTA0eEZUQVRCZ05WQkFNTURPUzRnT2U2CnArYWd1Vk5OTWpCWk1CTUdCeXFHU000OUFnRUdDQ3FCSE05VkFZSXRBMElBQk1jU3ROamwxekFOQ1RZTU1Dd1AKaEYzUlJhRXRGaDhoVHZ3aEhFbWFiMnprcVErTHMwRnYzQ091WlZGOTY5YzYxMGNFRVpaVFdkaUI0V2hRaTZ6YgpHRStqWFRCYk1Bc0dBMVVkRHdRRUF3SUJCakFNQmdOVkhSTUVCVEFEQVFIL01COEdBMVVkSXdRWU1CYUFGSHRUClY0Z3B3L3dJbHZjUHh6eFlDVkx2YlE0Qk1CMEdBMVVkRGdRV0JCUjdVMWVJS2NQOENKYjNEOGM4V0FsUzcyME8KQVRBS0JnZ3FnUnpQVlFHRGRRTklBREJGQWlBZlUxdUd0VVd3MTI5em9WK0xVUlFwOU5uanRwV3NrWmRxWHNjTApWeXBlWHdJaEFNaTUvTldGZUlTU3U1NHZVUlI0a0pTNVJzOG94d2ozY0FIcmJGQ2k2RXA3Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvekNDQVVpZ0F3SUJBZ0lPQk9IT1dyaGhNQm15MURrODFOSXdDZ1lJS29FY3oxVUJnM1V3SkRFTE1Ba0cKQTFVRUJoTUNRMDR4RlRBVEJnTlZCQU1NRE9TNGdPZTZwK2FndVZOTk1qQWVGdzB5TkRFeE1qSXhNelExTWpCYQpGdzAwTkRFeE1qSXhNelExTWpCYU1DVXhDekFKQmdOVkJBWVRBa05PTVJZd0ZBWURWUVFEREEza3Vvem51cWZtCm9MbGZVMDB5TUZrd0V3WUhLb1pJemowQ0FRWUlLb0VjejFVQmdpMERRZ0FFb2NQVlA3TENvSGRJUGYvenM1ODUKbHp5d3BMNzYyMVhVZUlHMkIxankvK2JxV1ZQZmNNOE1oMWprQUVrczJxUDhmeloxOEdKaTJzRzdDbTNFY25tWApoS05kTUZzd0N3WURWUjBQQkFRREFnRUdNQXdHQTFVZEV3UUZNQU1CQWY4d0h3WURWUjBqQkJnd0ZvQVVlMU5YCmlDbkQvQWlXOXcvSFBGZ0pVdTl0RGdFd0hRWURWUjBPQkJZRUZJV0d2SFpiNmxKTURBekduNlFPUlZPaXNBQnQKTUFvR0NDcUJITTlWQVlOMUEwa0FNRVlDSVFEZ0ZvVVVtOGl1ZEVWNGJWbnJ1ck1ET2dETTBXalk2eWg4bEdzZwpMUGxpVHdJaEFPcFY0dVlESXlVMURaSExjNC8wdWc2eGZUN1cvTmtKMW92eFpWZlJMMEFqCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\",\n  \"SCT\": null,\n  \"Identity\": {\n    \"Subject\": \"\",\n    \"SubjectRegExp\": \"\",\n    \"Issuer\": \"\",\n    \"IssuerRegExp\": \"\",\n    \"Token\": \"\",\n    \"ClientID\": \"\",\n    \"ClientSecret\": \"\",\n    \"AuthFlow\": \"\",\n    \"SecretKey\": null\n  }\n}",
  "cert_mgr": "njca",
  "cert_mgr_url": "http://10.211.201.241/entca/v1/CertBusiness"
}'

# Response
{
    "base_config": {
        "algo": "sm2",
        "kms": "",
        "flow": "classic"
    },
    "result": "OK"
}
```
